{% from "govuk/components/tag/macro.njk" import govukTag %}

{% macro defraStatus(params) %}
  {%- set value = params.text or '' %}
  {%- set classesMap = params.classesMap or {} %}
  {%- set labelsMap = params.labelsMap or {} %}
  {%- set additionalClasses = params.classes or '' %}
  {%- set baseClasses = classesMap[value] or "govuk-tag--grey" %}
  {%- set allClasses = baseClasses + (" " + additionalClasses if additionalClasses else "") %}
  {%- set displayText = labelsMap[value] or (value | capitalize) %}

  {{
    govukTag({
      text: displayText,
      classes: allClasses
    })
  }}
{% endmacro %}
