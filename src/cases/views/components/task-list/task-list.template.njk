{% from "../dynamic-content/components/status.njk" import defraStatus %}

{% if params.tasks.length > 0 %}
  <ul
    class="govuk-task-list govuk-!-margin-bottom-6"
    data-testid="taskList-list"
  >
    {% for task in params.tasks %}
      <li
        class="govuk-task-list__item govuk-task-list__item--with-link"
        data-testid="taskList-li"
      >
        <div class="govuk-task-list__name-and-hint">
          <a href="{{ task.link }}" class="govuk-link govuk-task-list__link"
            >{{ task.name }}</a
          >
        </div>
        <div class="govuk-task-list__status">
          {{
            defraStatus({
              text: task.statusText,
              theme: task.statusTheme,
              attributes: {
                style:"max-width: 220px;"
              }
            })
          }}
        </div>
      </li>
    {% endfor %}
  </ul>
{% endif %}
