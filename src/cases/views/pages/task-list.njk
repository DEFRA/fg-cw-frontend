{% extends '../layouts/case-layout.njk' %}
{% from "../components/case-summary/macro.njk" import caseSummary %}
{% from "../components/case-details-tab-navigation/macro.njk" import caseDetailsTabNavigation %}
{% from "../components/task-group/macro.njk" import taskGroup %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

{% block content %}
  {{ caseSummary(data.case) }}

  {% if errorList and errorList.length > 0 %}
    {{
      govukErrorSummary({
        titleText: "There is a problem",
        errorList: errorList
      })
    }}
  {% endif %}

  <div class="govuk-body">
    {{ caseDetailsTabNavigation({active: 'tasks', caseId: data.case.id }) }}

    {{ taskGroup({caseId: data.case.id, stage: data.stage, errors: errors, values: values }) }}
  </div>
{% endblock %}
