{% extends '../layouts/case-layout.njk' %}
{% from "../components/case-summary/macro.njk" import appCaseSummary %}
{% from "../components/case-details-tab-navigation/macro.njk" import appCaseDetailsTabNavigation %}
{% from "../components/task-group/macro.njk" import appTaskGroup %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

{% block content %}
  {% if error %}

    {{
      govukErrorSummary({
        titleText: "There is a problem",
        errorList: [
          {
            text: error,
            href: "#stage-heading"
          }
        ]
      })
    }}
  {% endif %}

  {{ appCaseSummary({ case: data.case }) }}

  <div class="govuk-body">
    {{ appCaseDetailsTabNavigation({active: 'tasks', caseDataId: data.case.id }) }}

    {{ appTaskGroup({caseId: data.case.id, stage: data.stage }) }}
  </div>
{% endblock %}
